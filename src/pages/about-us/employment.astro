---
import Layout from "../../layouts/Layout.astro";
import EmploymentSec from "../../components/EmploymentSec/EmploymentSec";
import client from "../../graphql/client/ApolloClient";
import type { IEmploymentQuery } from "../../graphql/generatedType/EmploymentTypes";
import { employmentQuery } from "../../graphql/gql/employment.gql";

const { data: employmentDetailsData } = await client.query<IEmploymentQuery>({
  query: employmentQuery,
});
---

<Layout
  title={employmentDetailsData?.page?.seo?.title}
  description={employmentDetailsData?.page?.seo?.metaDesc}
  metaKeywords={employmentDetailsData?.page?.seo?.metaKeywords}
  opengraphDescription={employmentDetailsData?.page?.seo?.opengraphDescription}
  metaRobotsNofollow={employmentDetailsData?.page?.seo?.metaRobotsNofollow}
  metaRobotsNoindex={employmentDetailsData?.page?.seo?.metaRobotsNoindex}
  twitterDescription={employmentDetailsData?.page?.seo?.twitterDescription}
  twitterTitle={employmentDetailsData?.page?.seo?.twitterTitle}
  twitterImage={employmentDetailsData?.page?.seo?.twitterImage?.mediaItemUrl}
  twitterImage={employmentDetailsData?.page?.seo?.twitterImage?.altText}
  opengraphTitle={employmentDetailsData?.page?.seo?.opengraphTitle}
  opengraphType={employmentDetailsData?.page?.seo?.opengraphType}
  opengraphUrl={employmentDetailsData?.page?.seo?.opengraphUrl}
  opengraphSiteName={employmentDetailsData?.page?.seo?.opengraphSiteName}
  focuskw={employmentDetailsData?.page?.seo?.focuskw}
  canonical={employmentDetailsData?.page?.seo?.canonical}
  schema={employmentDetailsData?.page?.seo?.schema?.raw}
>
  <EmploymentSec client:load data={employmentDetailsData} />
</Layout>
