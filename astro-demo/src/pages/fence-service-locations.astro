---
import Layout from "../layouts/Layout.astro";
import AllLocationFindMap from "../components/CustomFindMap/AllLocationFindMap";
import FenceLocationBanner from "../components/FenceLocationBanner/FenceLocationBanner";
import client from "../graphql/client/ApolloClient";
import { MapAllLocation } from "../graphql/gql/allLocations.gql";
import { type IMapAllLocationResponse } from "../graphql/generatedType/AllMapLocationsTypes";

const { data: allLocations } = await client.query<IMapAllLocationResponse>({
  query: MapAllLocation,
});

console.log(allLocations,"allLocations")
---

<Layout>
  <FenceLocationBanner />
  <AllLocationFindMap client:only="react" allLocations={allLocations} />
</Layout>
